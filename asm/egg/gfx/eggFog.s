# Symbols are unofficial
# Mostly from EGG coding practices
# and from Rii's MKW symbol map

.include "macros.inc"

.section .sdata2, "a"
.balign 0x8
.global lbl_804C0720
lbl_804C0720:
	.single 0e0
.global lbl_804C0724
lbl_804C0724:
	.single 0e1

.section .data, "wa"
.balign 0x8
.global __vt__Q23EGG3FogFv
__vt__Q23EGG3FogFv:
    .long 0
    .long 0
    .long __dt__Q23EGG3FogFv
    .long initialize__Q23EGG3FogFv
    .long func_8008ED6C
    .long setGX__Q23EGG3FogFv

.section .text, "ax"
.global __ct__Q23EGG3FogFv
__ct__Q23EGG3FogFv:
/* 8008ED1C 00089C1C  3C 80 80 39 */	lis r4, __vt__Q23EGG3FogFv@ha
/* 8008ED20 00089C20  38 84 79 18 */	addi r4, r4, __vt__Q23EGG3FogFv@l
/* 8008ED24 00089C24  90 83 00 1C */	stw r4, 0x1c(r3)
/* 8008ED28 00089C28  4E 80 00 20 */	blr 

.global initialize__Q23EGG3FogFv
initialize__Q23EGG3FogFv:
/* 8008ED2C 00089C2C  C0 02 8D 00 */	lfs f0, lbl_804C0720-_SDA2_BASE_(r2)
/* 8008ED30 00089C30  38 A0 00 00 */	li r5, 0
/* 8008ED34 00089C34  38 80 00 FF */	li r4, 0xff
/* 8008ED38 00089C38  38 00 00 02 */	li r0, 2
/* 8008ED3C 00089C3C  60 A5 FF FE */	ori r5, r5, 0xfffe
/* 8008ED40 00089C40  98 83 00 03 */	stb r4, 3(r3)
/* 8008ED44 00089C44  98 A3 00 18 */	stb r5, 0x18(r3)
/* 8008ED48 00089C48  98 83 00 02 */	stb r4, 2(r3)
/* 8008ED4C 00089C4C  98 83 00 01 */	stb r4, 1(r3)
/* 8008ED50 00089C50  98 83 00 00 */	stb r4, 0(r3)
/* 8008ED54 00089C54  D0 03 00 10 */	stfs f0, 0x10(r3)
/* 8008ED58 00089C58  D0 03 00 0C */	stfs f0, 0xc(r3)
/* 8008ED5C 00089C5C  D0 03 00 08 */	stfs f0, 8(r3)
/* 8008ED60 00089C60  D0 03 00 04 */	stfs f0, 4(r3)
/* 8008ED64 00089C64  90 03 00 14 */	stw r0, 0x14(r3)
/* 8008ED68 00089C68  4E 80 00 20 */	blr 

.global func_8008ED6C
func_8008ED6C:
/* 8008ED6C 00089C6C  4E 80 00 20 */	blr 

.global setGX__Q23EGG3FogFv
setGX__Q23EGG3FogFv:
/* 8008ED70 00089C70  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8008ED74 00089C74  7C 08 02 A6 */	mflr r0
/* 8008ED78 00089C78  7C 68 1B 78 */	mr r8, r3
/* 8008ED7C 00089C7C  90 01 00 14 */	stw r0, 0x14(r1)
/* 8008ED80 00089C80  88 03 00 18 */	lbz r0, 0x18(r3)
/* 8008ED84 00089C84  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8008ED88 00089C88  41 82 00 44 */	beq lbl_8008EDCC
/* 8008ED8C 00089C8C  88 E3 00 00 */	lbz r7, 0(r3)
/* 8008ED90 00089C90  38 81 00 0C */	addi r4, r1, 0xc
/* 8008ED94 00089C94  88 C3 00 01 */	lbz r6, 1(r3)
/* 8008ED98 00089C98  88 A3 00 02 */	lbz r5, 2(r3)
/* 8008ED9C 00089C9C  88 03 00 03 */	lbz r0, 3(r3)
/* 8008EDA0 00089CA0  98 E1 00 0C */	stb r7, 0xc(r1)
/* 8008EDA4 00089CA4  80 63 00 14 */	lwz r3, 0x14(r3)
/* 8008EDA8 00089CA8  98 C1 00 0D */	stb r6, 0xd(r1)
/* 8008EDAC 00089CAC  C0 28 00 04 */	lfs f1, 4(r8)
/* 8008EDB0 00089CB0  98 A1 00 0E */	stb r5, 0xe(r1)
/* 8008EDB4 00089CB4  C0 48 00 08 */	lfs f2, 8(r8)
/* 8008EDB8 00089CB8  98 01 00 0F */	stb r0, 0xf(r1)
/* 8008EDBC 00089CBC  C0 68 00 0C */	lfs f3, 0xc(r8)
/* 8008EDC0 00089CC0  C0 88 00 10 */	lfs f4, 0x10(r8)
/* 8008EDC4 00089CC4  48 05 2E 41 */	bl GXSetFog
/* 8008EDC8 00089CC8  48 00 00 40 */	b lbl_8008EE08
lbl_8008EDCC:
/* 8008EDCC 00089CCC  C0 22 8D 00 */	lfs f1, lbl_804C0720-_SDA2_BASE_(r2)
/* 8008EDD0 00089CD0  38 81 00 08 */	addi r4, r1, 8
/* 8008EDD4 00089CD4  C0 42 8D 04 */	lfs f2, lbl_804C0724-_SDA2_BASE_(r2)
/* 8008EDD8 00089CD8  38 60 00 00 */	li r3, 0
/* 8008EDDC 00089CDC  88 E2 8B A4 */	lbz r7, lbl_804C05C4-_SDA2_BASE_(r2)
/* 8008EDE0 00089CE0  FC 60 08 90 */	fmr f3, f1
/* 8008EDE4 00089CE4  88 C2 8B A5 */	lbz r6, lbl_804C05C5-_SDA2_BASE_(r2)
/* 8008EDE8 00089CE8  FC 80 10 90 */	fmr f4, f2
/* 8008EDEC 00089CEC  88 A2 8B A6 */	lbz r5, lbl_804C05C6-_SDA2_BASE_(r2)
/* 8008EDF0 00089CF0  88 02 8B A7 */	lbz r0, lbl_804C05C7-_SDA2_BASE_(r2)
/* 8008EDF4 00089CF4  98 E1 00 08 */	stb r7, 8(r1)
/* 8008EDF8 00089CF8  98 C1 00 09 */	stb r6, 9(r1)
/* 8008EDFC 00089CFC  98 A1 00 0A */	stb r5, 0xa(r1)
/* 8008EE00 00089D00  98 01 00 0B */	stb r0, 0xb(r1)
/* 8008EE04 00089D04  48 05 2E 01 */	bl GXSetFog
lbl_8008EE08:
/* 8008EE08 00089D08  38 60 00 00 */	li r3, 0
/* 8008EE0C 00089D0C  38 80 00 00 */	li r4, 0
/* 8008EE10 00089D10  38 A0 00 00 */	li r5, 0
/* 8008EE14 00089D14  48 05 31 7D */	bl GXSetFogRangeAdj
/* 8008EE18 00089D18  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8008EE1C 00089D1C  7C 08 03 A6 */	mtlr r0
/* 8008EE20 00089D20  38 21 00 10 */	addi r1, r1, 0x10
/* 8008EE24 00089D24  4E 80 00 20 */	blr 

.global setG3D__Q23EGG3FogCFRQ34nw4r3g3d3Fog
setG3D__Q23EGG3FogCFRQ34nw4r3g3d3Fog:
/* 8008EE28 00089D28  88 03 00 18 */	lbz r0, 0x18(r3)
/* 8008EE2C 00089D2C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8008EE30 00089D30  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8008EE34 00089D34  41 82 00 0C */	beq lbl_8008EE40
/* 8008EE38 00089D38  80 03 00 14 */	lwz r0, 0x14(r3)
/* 8008EE3C 00089D3C  48 00 00 08 */	b lbl_8008EE44
lbl_8008EE40:
/* 8008EE40 00089D40  38 00 00 00 */	li r0, 0
lbl_8008EE44:
/* 8008EE44 00089D44  80 A4 00 00 */	lwz r5, 0(r4)
/* 8008EE48 00089D48  2C 05 00 00 */	cmpwi r5, 0
/* 8008EE4C 00089D4C  41 82 00 08 */	beq lbl_8008EE54
/* 8008EE50 00089D50  90 05 00 00 */	stw r0, 0(r5)
lbl_8008EE54:
/* 8008EE54 00089D54  80 A4 00 00 */	lwz r5, 0(r4)
/* 8008EE58 00089D58  C0 23 00 08 */	lfs f1, 8(r3)
/* 8008EE5C 00089D5C  2C 05 00 00 */	cmpwi r5, 0
/* 8008EE60 00089D60  C0 03 00 04 */	lfs f0, 4(r3)
/* 8008EE64 00089D64  41 82 00 0C */	beq lbl_8008EE70
/* 8008EE68 00089D68  D0 05 00 04 */	stfs f0, 4(r5)
/* 8008EE6C 00089D6C  D0 25 00 08 */	stfs f1, 8(r5)
lbl_8008EE70:
/* 8008EE70 00089D70  80 E4 00 00 */	lwz r7, 0(r4)
/* 8008EE74 00089D74  88 C3 00 00 */	lbz r6, 0(r3)
/* 8008EE78 00089D78  88 A3 00 01 */	lbz r5, 1(r3)
/* 8008EE7C 00089D7C  2C 07 00 00 */	cmpwi r7, 0
/* 8008EE80 00089D80  88 83 00 02 */	lbz r4, 2(r3)
/* 8008EE84 00089D84  88 03 00 03 */	lbz r0, 3(r3)
/* 8008EE88 00089D88  98 C1 00 08 */	stb r6, 8(r1)
/* 8008EE8C 00089D8C  98 A1 00 09 */	stb r5, 9(r1)
/* 8008EE90 00089D90  98 81 00 0A */	stb r4, 0xa(r1)
/* 8008EE94 00089D94  98 01 00 0B */	stb r0, 0xb(r1)
/* 8008EE98 00089D98  41 82 00 14 */	beq lbl_8008EEAC
/* 8008EE9C 00089D9C  98 C7 00 14 */	stb r6, 0x14(r7)
/* 8008EEA0 00089DA0  98 A7 00 15 */	stb r5, 0x15(r7)
/* 8008EEA4 00089DA4  98 87 00 16 */	stb r4, 0x16(r7)
/* 8008EEA8 00089DA8  98 07 00 17 */	stb r0, 0x17(r7)
lbl_8008EEAC:
/* 8008EEAC 00089DAC  38 21 00 10 */	addi r1, r1, 0x10
/* 8008EEB0 00089DB0  4E 80 00 20 */	blr 

# Seems to do something with color
.global func_8008EEB4
func_8008EEB4:
/* 8008EEB4 00089DB4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8008EEB8 00089DB8  7C 08 02 A6 */	mflr r0
/* 8008EEBC 00089DBC  90 01 00 24 */	stw r0, 0x24(r1)
/* 8008EEC0 00089DC0  80 04 00 00 */	lwz r0, 0(r4)
/* 8008EEC4 00089DC4  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8008EEC8 00089DC8  7C 7F 1B 78 */	mr r31, r3
/* 8008EECC 00089DCC  2C 00 00 00 */	cmpwi r0, 0
/* 8008EED0 00089DD0  41 82 00 60 */	beq lbl_8008EF30
/* 8008EED4 00089DD4  38 00 FF FF */	li r0, -1
/* 8008EED8 00089DD8  7C 83 23 78 */	mr r3, r4
/* 8008EEDC 00089DDC  90 01 00 14 */	stw r0, 0x14(r1)
/* 8008EEE0 00089DE0  38 81 00 08 */	addi r4, r1, 8
/* 8008EEE4 00089DE4  4B FC B1 2D */	bl func_8005A010
/* 8008EEE8 00089DE8  80 61 00 08 */	lwz r3, 8(r1)
/* 8008EEEC 00089DEC  88 1F 00 18 */	lbz r0, 0x18(r31)
/* 8008EEF0 00089DF0  90 7F 00 14 */	stw r3, 0x14(r31)
/* 8008EEF4 00089DF4  60 00 00 01 */	ori r0, r0, 1
/* 8008EEF8 00089DF8  C0 01 00 0C */	lfs f0, 0xc(r1)
/* 8008EEFC 00089DFC  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8008EF00 00089E00  C0 01 00 10 */	lfs f0, 0x10(r1)
/* 8008EF04 00089E04  D0 1F 00 08 */	stfs f0, 8(r31)
/* 8008EF08 00089E08  88 61 00 14 */	lbz r3, 0x14(r1)
/* 8008EF0C 00089E0C  98 7F 00 00 */	stb r3, 0(r31)
/* 8008EF10 00089E10  88 61 00 15 */	lbz r3, 0x15(r1)
/* 8008EF14 00089E14  98 7F 00 01 */	stb r3, 1(r31)
/* 8008EF18 00089E18  88 61 00 16 */	lbz r3, 0x16(r1)
/* 8008EF1C 00089E1C  98 7F 00 02 */	stb r3, 2(r31)
/* 8008EF20 00089E20  88 61 00 17 */	lbz r3, 0x17(r1)
/* 8008EF24 00089E24  98 7F 00 03 */	stb r3, 3(r31)
/* 8008EF28 00089E28  98 1F 00 18 */	stb r0, 0x18(r31)
/* 8008EF2C 00089E2C  48 00 00 18 */	b lbl_8008EF44
lbl_8008EF30:
/* 8008EF30 00089E30  88 03 00 18 */	lbz r0, 0x18(r3)
/* 8008EF34 00089E34  38 80 00 00 */	li r4, 0
/* 8008EF38 00089E38  90 83 00 14 */	stw r4, 0x14(r3)
/* 8008EF3C 00089E3C  60 00 FF FE */	ori r0, r0, 0xfffe
/* 8008EF40 00089E40  98 03 00 18 */	stb r0, 0x18(r3)
lbl_8008EF44:
/* 8008EF44 00089E44  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8008EF48 00089E48  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8008EF4C 00089E4C  7C 08 03 A6 */	mtlr r0
/* 8008EF50 00089E50  38 21 00 20 */	addi r1, r1, 0x20
/* 8008EF54 00089E54  4E 80 00 20 */	blr 

.global __dt__Q23EGG3FogFv
__dt__Q23EGG3FogFv:
/* 8008EF58 00089E58  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8008EF5C 00089E5C  7C 08 02 A6 */	mflr r0
/* 8008EF60 00089E60  2C 03 00 00 */	cmpwi r3, 0
/* 8008EF64 00089E64  90 01 00 14 */	stw r0, 0x14(r1)
/* 8008EF68 00089E68  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8008EF6C 00089E6C  7C 7F 1B 78 */	mr r31, r3
/* 8008EF70 00089E70  41 82 00 10 */	beq lbl_8008EF80
/* 8008EF74 00089E74  2C 04 00 00 */	cmpwi r4, 0
/* 8008EF78 00089E78  40 81 00 08 */	ble lbl_8008EF80
/* 8008EF7C 00089E7C  48 01 43 09 */	bl __dl__FPv
lbl_8008EF80:
/* 8008EF80 00089E80  7F E3 FB 78 */	mr r3, r31
/* 8008EF84 00089E84  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8008EF88 00089E88  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8008EF8C 00089E8C  7C 08 03 A6 */	mtlr r0
/* 8008EF90 00089E90  38 21 00 10 */	addi r1, r1, 0x10
/* 8008EF94 00089E94  4E 80 00 20 */	blr 
