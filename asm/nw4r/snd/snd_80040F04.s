.include "macros.inc"

.section .text, "ax"  # 0x800076E0 - 0x80355080 

.global func_80040F04
func_80040F04:
/* 80040F04 0003BE04  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80040F08 0003BE08  7C 08 02 A6 */	mflr r0
/* 80040F0C 0003BE0C  3D 00 80 39 */	lis r8, lbl_80396258@ha
/* 80040F10 0003BE10  3C E0 80 04 */	lis r7, __ct__Q44nw4r3snd6detail19ExternalSoundPlayerFv@ha
/* 80040F14 0003BE14  90 01 00 24 */	stw r0, 0x24(r1)
/* 80040F18 0003BE18  38 04 00 0C */	addi r0, r4, 0xc
/* 80040F1C 0003BE1C  39 08 62 58 */	addi r8, r8, lbl_80396258@l
/* 80040F20 0003BE20  3C C0 80 04 */	lis r6, __dt__Q44nw4r3snd6detail19ExternalSoundPlayerFv@ha
/* 80040F24 0003BE24  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80040F28 0003BE28  7C BF 2B 78 */	mr r31, r5
/* 80040F2C 0003BE2C  38 A6 92 90 */	addi r5, r6, __dt__Q44nw4r3snd6detail19ExternalSoundPlayerFv@l
/* 80040F30 0003BE30  38 C0 00 14 */	li r6, 0x14
/* 80040F34 0003BE34  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80040F38 0003BE38  7C 9E 23 78 */	mr r30, r4
/* 80040F3C 0003BE3C  38 87 92 60 */	addi r4, r7, __ct__Q44nw4r3snd6detail19ExternalSoundPlayerFv@l
/* 80040F40 0003BE40  38 E0 00 08 */	li r7, 8
/* 80040F44 0003BE44  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80040F48 0003BE48  7C 7D 1B 78 */	mr r29, r3
/* 80040F4C 0003BE4C  90 03 00 04 */	stw r0, 4(r3)
/* 80040F50 0003BE50  91 03 00 00 */	stw r8, 0(r3)
/* 80040F54 0003BE54  38 63 00 08 */	addi r3, r3, 8
/* 80040F58 0003BE58  48 07 0A FD */	bl __construct_array
/* 80040F5C 0003BE5C  3C 80 80 00 */	lis r4, 0x7FFFFFFF@ha
/* 80040F60 0003BE60  38 7D 00 08 */	addi r3, r29, 8
/* 80040F64 0003BE64  38 84 FF FF */	addi r4, r4, 0x7FFFFFFF@l
/* 80040F68 0003BE68  4B FF 83 B1 */	bl SetPlayableSoundCount__Q44nw4r3snd6detail19ExternalSoundPlayerFi
/* 80040F6C 0003BE6C  3C 80 80 39 */	lis r4, lbl_80396208@ha
/* 80040F70 0003BE70  93 FD 00 AC */	stw r31, 0xac(r29)
/* 80040F74 0003BE74  38 84 62 08 */	addi r4, r4, lbl_80396208@l
/* 80040F78 0003BE78  7F A3 EB 78 */	mr r3, r29
/* 80040F7C 0003BE7C  38 04 00 14 */	addi r0, r4, 0x14
/* 80040F80 0003BE80  90 9D 00 00 */	stw r4, 0(r29)
/* 80040F84 0003BE84  90 1D 00 A8 */	stw r0, 0xa8(r29)
/* 80040F88 0003BE88  93 DD 00 B0 */	stw r30, 0xb0(r29)
/* 80040F8C 0003BE8C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80040F90 0003BE90  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80040F94 0003BE94  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80040F98 0003BE98  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80040F9C 0003BE9C  7C 08 03 A6 */	mtlr r0
/* 80040FA0 0003BEA0  38 21 00 20 */	addi r1, r1, 0x20
/* 80040FA4 0003BEA4  4E 80 00 20 */	blr 

.global func_80040FA8
func_80040FA8:
/* 80040FA8 0003BEA8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80040FAC 0003BEAC  7C 08 02 A6 */	mflr r0
/* 80040FB0 0003BEB0  2C 03 00 00 */	cmpwi r3, 0
/* 80040FB4 0003BEB4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80040FB8 0003BEB8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80040FBC 0003BEBC  7C 9F 23 78 */	mr r31, r4
/* 80040FC0 0003BEC0  93 C1 00 08 */	stw r30, 8(r1)
/* 80040FC4 0003BEC4  7C 7E 1B 78 */	mr r30, r3
/* 80040FC8 0003BEC8  41 82 00 2C */	beq lbl_80040FF4
/* 80040FCC 0003BECC  3C 80 80 04 */	lis r4, __dt__Q44nw4r3snd6detail19ExternalSoundPlayerFv@ha
/* 80040FD0 0003BED0  38 A0 00 14 */	li r5, 0x14
/* 80040FD4 0003BED4  38 84 92 90 */	addi r4, r4, __dt__Q44nw4r3snd6detail19ExternalSoundPlayerFv@l
/* 80040FD8 0003BED8  38 C0 00 08 */	li r6, 8
/* 80040FDC 0003BEDC  38 63 00 08 */	addi r3, r3, 8
/* 80040FE0 0003BEE0  48 07 0B 6D */	bl __destroy_arr
/* 80040FE4 0003BEE4  2C 1F 00 00 */	cmpwi r31, 0
/* 80040FE8 0003BEE8  40 81 00 0C */	ble lbl_80040FF4
/* 80040FEC 0003BEEC  7F C3 F3 78 */	mr r3, r30
/* 80040FF0 0003BEF0  48 06 22 95 */	bl __dl__FPv
lbl_80040FF4:
/* 80040FF4 0003BEF4  7F C3 F3 78 */	mr r3, r30
/* 80040FF8 0003BEF8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80040FFC 0003BEFC  83 C1 00 08 */	lwz r30, 8(r1)
/* 80041000 0003BF00  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80041004 0003BF04  7C 08 03 A6 */	mtlr r0
/* 80041008 0003BF08  38 21 00 10 */	addi r1, r1, 0x10
/* 8004100C 0003BF0C  4E 80 00 20 */	blr 

.global func_80041010
func_80041010:
/* 80041010 0003BF10  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80041014 0003BF14  7C 08 02 A6 */	mflr r0
/* 80041018 0003BF18  90 01 00 34 */	stw r0, 0x34(r1)
/* 8004101C 0003BF1C  39 61 00 30 */	addi r11, r1, 0x30
/* 80041020 0003BF20  48 07 0D 1D */	bl _savegpr_25
/* 80041024 0003BF24  2C 03 00 00 */	cmpwi r3, 0
/* 80041028 0003BF28  7C 79 1B 78 */	mr r25, r3
/* 8004102C 0003BF2C  7C 9A 23 78 */	mr r26, r4
/* 80041030 0003BF30  41 82 00 A8 */	beq lbl_800410D8
/* 80041034 0003BF34  3C 80 80 39 */	lis r4, lbl_80396208@ha
/* 80041038 0003BF38  3B 83 00 08 */	addi r28, r3, 8
/* 8004103C 0003BF3C  38 84 62 08 */	addi r4, r4, lbl_80396208@l
/* 80041040 0003BF40  3B 60 00 00 */	li r27, 0
/* 80041044 0003BF44  38 04 00 14 */	addi r0, r4, 0x14
/* 80041048 0003BF48  90 83 00 00 */	stw r4, 0(r3)
/* 8004104C 0003BF4C  3B A0 00 00 */	li r29, 0
/* 80041050 0003BF50  90 03 00 A8 */	stw r0, 0xa8(r3)
lbl_80041054:
/* 80041054 0003BF54  83 FC 00 04 */	lwz r31, 4(r28)
/* 80041058 0003BF58  3B DC 00 04 */	addi r30, r28, 4
/* 8004105C 0003BF5C  48 00 00 34 */	b lbl_80041090
lbl_80041060:
/* 80041060 0003BF60  7F E4 FB 78 */	mr r4, r31
/* 80041064 0003BF64  83 FF 00 00 */	lwz r31, 0(r31)
/* 80041068 0003BF68  38 61 00 08 */	addi r3, r1, 8
/* 8004106C 0003BF6C  93 A1 00 08 */	stw r29, 8(r1)
/* 80041070 0003BF70  38 84 FF 30 */	addi r4, r4, -208
/* 80041074 0003BF74  48 00 4A 21 */	bl func_80045A94
/* 80041078 0003BF78  80 61 00 08 */	lwz r3, 8(r1)
/* 8004107C 0003BF7C  2C 03 00 00 */	cmpwi r3, 0
/* 80041080 0003BF80  41 82 00 08 */	beq lbl_80041088
/* 80041084 0003BF84  93 A3 00 1C */	stw r29, 0x1c(r3)
lbl_80041088:
/* 80041088 0003BF88  38 61 00 08 */	addi r3, r1, 8
/* 8004108C 0003BF8C  48 00 4A D1 */	bl DetachSound__Q34nw4r3snd11SoundHandleFv
lbl_80041090:
/* 80041090 0003BF90  7C 1F F0 40 */	cmplw r31, r30
/* 80041094 0003BF94  40 82 FF CC */	bne lbl_80041060
/* 80041098 0003BF98  3B 7B 00 01 */	addi r27, r27, 1
/* 8004109C 0003BF9C  3B 9C 00 14 */	addi r28, r28, 0x14
/* 800410A0 0003BFA0  2C 1B 00 08 */	cmpwi r27, 8
/* 800410A4 0003BFA4  41 80 FF B0 */	blt lbl_80041054
/* 800410A8 0003BFA8  2C 19 00 00 */	cmpwi r25, 0
/* 800410AC 0003BFAC  41 82 00 1C */	beq lbl_800410C8
/* 800410B0 0003BFB0  3C 80 80 04 */	lis r4, __dt__Q44nw4r3snd6detail19ExternalSoundPlayerFv@ha
/* 800410B4 0003BFB4  38 79 00 08 */	addi r3, r25, 8
/* 800410B8 0003BFB8  38 84 92 90 */	addi r4, r4, __dt__Q44nw4r3snd6detail19ExternalSoundPlayerFv@l
/* 800410BC 0003BFBC  38 A0 00 14 */	li r5, 0x14
/* 800410C0 0003BFC0  38 C0 00 08 */	li r6, 8
/* 800410C4 0003BFC4  48 07 0A 89 */	bl __destroy_arr
lbl_800410C8:
/* 800410C8 0003BFC8  2C 1A 00 00 */	cmpwi r26, 0
/* 800410CC 0003BFCC  40 81 00 0C */	ble lbl_800410D8
/* 800410D0 0003BFD0  7F 23 CB 78 */	mr r3, r25
/* 800410D4 0003BFD4  48 06 21 B1 */	bl __dl__FPv
lbl_800410D8:
/* 800410D8 0003BFD8  39 61 00 30 */	addi r11, r1, 0x30
/* 800410DC 0003BFDC  7F 23 CB 78 */	mr r3, r25
/* 800410E0 0003BFE0  48 07 0C A9 */	bl _restgpr_25
/* 800410E4 0003BFE4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800410E8 0003BFE8  7C 08 03 A6 */	mtlr r0
/* 800410EC 0003BFEC  38 21 00 30 */	addi r1, r1, 0x30
/* 800410F0 0003BFF0  4E 80 00 20 */	blr 

.global func_800410F4
func_800410F4:
/* 800410F4 0003BFF4  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 800410F8 0003BFF8  7C 08 02 A6 */	mflr r0
/* 800410FC 0003BFFC  90 01 00 64 */	stw r0, 0x64(r1)
/* 80041100 0003C000  39 61 00 60 */	addi r11, r1, 0x60
/* 80041104 0003C004  48 07 0C 41 */	bl _savegpr_27
/* 80041108 0003C008  7C 7B 1B 78 */	mr r27, r3
/* 8004110C 0003C00C  7C 9C 23 78 */	mr r28, r4
/* 80041110 0003C010  7C BD 2B 78 */	mr r29, r5
/* 80041114 0003C014  7D 1E 43 78 */	mr r30, r8
/* 80041118 0003C018  7D 3F 4B 78 */	mr r31, r9
/* 8004111C 0003C01C  38 61 00 28 */	addi r3, r1, 0x28
/* 80041120 0003C020  48 00 0B 9D */	bl func_80041CBC
/* 80041124 0003C024  C0 1B 00 B8 */	lfs f0, 0xb8(r27)
/* 80041128 0003C028  D0 01 00 34 */	stfs f0, 0x34(r1)
/* 8004112C 0003C02C  C0 1B 00 BC */	lfs f0, 0xbc(r27)
/* 80041130 0003C030  D0 01 00 38 */	stfs f0, 0x38(r1)
/* 80041134 0003C034  C0 1B 00 C0 */	lfs f0, 0xc0(r27)
/* 80041138 0003C038  D0 01 00 3C */	stfs f0, 0x3c(r1)
/* 8004113C 0003C03C  80 1B 00 B4 */	lwz r0, 0xb4(r27)
/* 80041140 0003C040  90 01 00 28 */	stw r0, 0x28(r1)
/* 80041144 0003C044  80 7B 00 B0 */	lwz r3, 0xb0(r27)
/* 80041148 0003C048  48 00 38 5D */	bl func_800449A4
/* 8004114C 0003C04C  7F A4 EB 78 */	mr r4, r29
/* 80041150 0003C050  38 A1 00 08 */	addi r5, r1, 8
/* 80041154 0003C054  48 00 0C DD */	bl func_80041E30
/* 80041158 0003C058  2C 03 00 00 */	cmpwi r3, 0
/* 8004115C 0003C05C  41 82 00 1C */	beq lbl_80041178
/* 80041160 0003C060  80 81 00 08 */	lwz r4, 8(r1)
/* 80041164 0003C064  88 61 00 0C */	lbz r3, 0xc(r1)
/* 80041168 0003C068  88 01 00 0D */	lbz r0, 0xd(r1)
/* 8004116C 0003C06C  90 81 00 2C */	stw r4, 0x2c(r1)
/* 80041170 0003C070  98 61 00 30 */	stb r3, 0x30(r1)
/* 80041174 0003C074  98 01 00 31 */	stb r0, 0x31(r1)
lbl_80041178:
/* 80041178 0003C078  3C E0 80 37 */	lis r7, lbl_80370004@ha
/* 8004117C 0003C07C  84 C7 5B E0 */	lwzu r6, 0x5be0(r7)
/* 80041180 0003C080  2C 1B 00 00 */	cmpwi r27, 0
/* 80041184 0003C084  7F 68 DB 78 */	mr r8, r27
/* 80041188 0003C088  80 A7 00 04 */	lwz r5, lbl_80370004@l(r7)
/* 8004118C 0003C08C  80 87 00 08 */	lwz r4, 8(r7)
/* 80041190 0003C090  80 67 00 0C */	lwz r3, 0xc(r7)
/* 80041194 0003C094  80 07 00 10 */	lwz r0, 0x10(r7)
/* 80041198 0003C098  90 C1 00 10 */	stw r6, 0x10(r1)
/* 8004119C 0003C09C  90 A1 00 14 */	stw r5, 0x14(r1)
/* 800411A0 0003C0A0  90 81 00 18 */	stw r4, 0x18(r1)
/* 800411A4 0003C0A4  90 61 00 1C */	stw r3, 0x1c(r1)
/* 800411A8 0003C0A8  90 01 00 20 */	stw r0, 0x20(r1)
/* 800411AC 0003C0AC  80 1B 00 AC */	lwz r0, 0xac(r27)
/* 800411B0 0003C0B0  90 01 00 10 */	stw r0, 0x10(r1)
/* 800411B4 0003C0B4  41 82 00 08 */	beq lbl_800411BC
/* 800411B8 0003C0B8  39 1B 00 A8 */	addi r8, r27, 0xa8
lbl_800411BC:
/* 800411BC 0003C0BC  91 01 00 14 */	stw r8, 0x14(r1)
/* 800411C0 0003C0C0  80 7B 00 AC */	lwz r3, 0xac(r27)
/* 800411C4 0003C0C4  2C 03 00 00 */	cmpwi r3, 0
/* 800411C8 0003C0C8  41 82 00 08 */	beq lbl_800411D0
/* 800411CC 0003C0CC  38 63 00 04 */	addi r3, r3, 4
lbl_800411D0:
/* 800411D0 0003C0D0  38 01 00 28 */	addi r0, r1, 0x28
/* 800411D4 0003C0D4  90 61 00 18 */	stw r3, 0x18(r1)
/* 800411D8 0003C0D8  7F 84 E3 78 */	mr r4, r28
/* 800411DC 0003C0DC  7F A5 EB 78 */	mr r5, r29
/* 800411E0 0003C0E0  90 01 00 1C */	stw r0, 0x1c(r1)
/* 800411E4 0003C0E4  7F C8 F3 78 */	mr r8, r30
/* 800411E8 0003C0E8  7F E9 FB 78 */	mr r9, r31
/* 800411EC 0003C0EC  38 C1 00 10 */	addi r6, r1, 0x10
/* 800411F0 0003C0F0  80 7B 00 B0 */	lwz r3, 0xb0(r27)
/* 800411F4 0003C0F4  38 FB 00 08 */	addi r7, r27, 8
/* 800411F8 0003C0F8  81 83 00 08 */	lwz r12, 8(r3)
/* 800411FC 0003C0FC  81 8C 00 28 */	lwz r12, 0x28(r12)
/* 80041200 0003C100  7D 89 03 A6 */	mtctr r12
/* 80041204 0003C104  4E 80 04 21 */	bctrl 
/* 80041208 0003C108  80 1C 00 00 */	lwz r0, 0(r28)
/* 8004120C 0003C10C  7C 7B 1B 78 */	mr r27, r3
/* 80041210 0003C110  2C 00 00 00 */	cmpwi r0, 0
/* 80041214 0003C114  41 82 00 1C */	beq lbl_80041230
/* 80041218 0003C118  7C 03 03 78 */	mr r3, r0
/* 8004121C 0003C11C  38 80 00 03 */	li r4, 3
/* 80041220 0003C120  81 83 00 00 */	lwz r12, 0(r3)
/* 80041224 0003C124  81 8C 00 58 */	lwz r12, 0x58(r12)
/* 80041228 0003C128  7D 89 03 A6 */	mtctr r12
/* 8004122C 0003C12C  4E 80 04 21 */	bctrl 
lbl_80041230:
/* 80041230 0003C130  39 61 00 60 */	addi r11, r1, 0x60
/* 80041234 0003C134  7F 63 DB 78 */	mr r3, r27
/* 80041238 0003C138  48 07 0B 59 */	bl _restgpr_27
/* 8004123C 0003C13C  80 01 00 64 */	lwz r0, 0x64(r1)
/* 80041240 0003C140  7C 08 03 A6 */	mtlr r0
/* 80041244 0003C144  38 21 00 60 */	addi r1, r1, 0x60
/* 80041248 0003C148  4E 80 00 20 */	blr 
