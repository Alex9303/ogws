.include "macros.inc"

.section .sdata, "wa"
.balign 0x8
__esFd:
	.long -1

.section .text, "ax"
.global ESP_ReadContentFile
ESP_ReadContentFile:
/* 80141BF0 0013CAF0  54 2B 06 FE */	clrlwi r11, r1, 0x1b
/* 80141BF4 0013CAF4  7C 2C 0B 78 */	mr r12, r1
/* 80141BF8 0013CAF8  21 6B FE E0 */	subfic r11, r11, -288
/* 80141BFC 0013CAFC  7C 21 59 6E */	stwux r1, r1, r11
/* 80141C00 0013CB00  7C 08 02 A6 */	mflr r0
/* 80141C04 0013CB04  90 0C 00 04 */	stw r0, 4(r12)
/* 80141C08 0013CB08  38 E1 01 08 */	addi r7, r1, 0x108
/* 80141C0C 0013CB0C  39 01 00 20 */	addi r8, r1, 0x20
/* 80141C10 0013CB10  80 CD 86 30 */	lwz r6, __esFd-_SDA_BASE_(r13)
/* 80141C14 0013CB14  2C 06 00 00 */	cmpwi r6, 0
/* 80141C18 0013CB18  41 80 00 20 */	blt lbl_80141C38
/* 80141C1C 0013CB1C  2C 03 00 00 */	cmpwi r3, 0
/* 80141C20 0013CB20  41 80 00 18 */	blt lbl_80141C38
/* 80141C24 0013CB24  38 00 00 00 */	li r0, 0
/* 80141C28 0013CB28  7C 04 00 40 */	cmplw r4, r0
/* 80141C2C 0013CB2C  41 82 00 0C */	beq lbl_80141C38
/* 80141C30 0013CB30  2C 05 00 00 */	cmpwi r5, 0
/* 80141C34 0013CB34  40 82 00 0C */	bne lbl_80141C40
lbl_80141C38:
/* 80141C38 0013CB38  38 60 FC 07 */	li r3, -1017
/* 80141C3C 0013CB3C  48 00 00 40 */	b lbl_80141C7C
lbl_80141C40:
/* 80141C40 0013CB40  54 80 06 FF */	clrlwi. r0, r4, 0x1b
/* 80141C44 0013CB44  41 82 00 0C */	beq lbl_80141C50
/* 80141C48 0013CB48  38 60 FC 07 */	li r3, -1017
/* 80141C4C 0013CB4C  48 00 00 30 */	b lbl_80141C7C
lbl_80141C50:
/* 80141C50 0013CB50  38 00 00 04 */	li r0, 4
/* 80141C54 0013CB54  90 61 00 20 */	stw r3, 0x20(r1)
/* 80141C58 0013CB58  7C C3 33 78 */	mr r3, r6
/* 80141C5C 0013CB5C  38 C0 00 01 */	li r6, 1
/* 80141C60 0013CB60  90 81 01 10 */	stw r4, 0x110(r1)
/* 80141C64 0013CB64  38 80 00 0A */	li r4, 0xa
/* 80141C68 0013CB68  90 A1 01 14 */	stw r5, 0x114(r1)
/* 80141C6C 0013CB6C  38 A0 00 01 */	li r5, 1
/* 80141C70 0013CB70  91 01 01 08 */	stw r8, 0x108(r1)
/* 80141C74 0013CB74  90 01 01 0C */	stw r0, 0x10c(r1)
/* 80141C78 0013CB78  4B FA 38 C1 */	bl IOS_Ioctlv
lbl_80141C7C:
/* 80141C7C 0013CB7C  81 41 00 00 */	lwz r10, 0(r1)
/* 80141C80 0013CB80  80 0A 00 04 */	lwz r0, 4(r10)
/* 80141C84 0013CB84  7C 08 03 A6 */	mtlr r0
/* 80141C88 0013CB88  7D 41 53 78 */	mr r1, r10
/* 80141C8C 0013CB8C  4E 80 00 20 */	blr 

.global ESP_SeekContentFile
ESP_SeekContentFile:
/* 80141C90 0013CB90  54 2B 06 FE */	clrlwi r11, r1, 0x1b
/* 80141C94 0013CB94  7C 2C 0B 78 */	mr r12, r1
/* 80141C98 0013CB98  21 6B FE E0 */	subfic r11, r11, -288
/* 80141C9C 0013CB9C  7C 21 59 6E */	stwux r1, r1, r11
/* 80141CA0 0013CBA0  7C 08 02 A6 */	mflr r0
/* 80141CA4 0013CBA4  90 0C 00 04 */	stw r0, 4(r12)
/* 80141CA8 0013CBA8  38 E1 01 08 */	addi r7, r1, 0x108
/* 80141CAC 0013CBAC  39 01 00 20 */	addi r8, r1, 0x20
/* 80141CB0 0013CBB0  39 21 00 40 */	addi r9, r1, 0x40
/* 80141CB4 0013CBB4  80 CD 86 30 */	lwz r6, __esFd-_SDA_BASE_(r13)
/* 80141CB8 0013CBB8  39 41 00 60 */	addi r10, r1, 0x60
/* 80141CBC 0013CBBC  2C 06 00 00 */	cmpwi r6, 0
/* 80141CC0 0013CBC0  40 80 00 0C */	bge lbl_80141CCC
/* 80141CC4 0013CBC4  38 60 FC 07 */	li r3, -1017
/* 80141CC8 0013CBC8  48 00 00 40 */	b lbl_80141D08
lbl_80141CCC:
/* 80141CCC 0013CBCC  38 00 00 04 */	li r0, 4
/* 80141CD0 0013CBD0  90 61 00 20 */	stw r3, 0x20(r1)
/* 80141CD4 0013CBD4  7C C3 33 78 */	mr r3, r6
/* 80141CD8 0013CBD8  38 C0 00 00 */	li r6, 0
/* 80141CDC 0013CBDC  90 81 00 40 */	stw r4, 0x40(r1)
/* 80141CE0 0013CBE0  38 80 00 23 */	li r4, 0x23
/* 80141CE4 0013CBE4  90 A1 00 60 */	stw r5, 0x60(r1)
/* 80141CE8 0013CBE8  38 A0 00 03 */	li r5, 3
/* 80141CEC 0013CBEC  91 01 01 08 */	stw r8, 0x108(r1)
/* 80141CF0 0013CBF0  90 01 01 0C */	stw r0, 0x10c(r1)
/* 80141CF4 0013CBF4  91 21 01 10 */	stw r9, 0x110(r1)
/* 80141CF8 0013CBF8  90 01 01 14 */	stw r0, 0x114(r1)
/* 80141CFC 0013CBFC  91 41 01 18 */	stw r10, 0x118(r1)
/* 80141D00 0013CC00  90 01 01 1C */	stw r0, 0x11c(r1)
/* 80141D04 0013CC04  4B FA 38 35 */	bl IOS_Ioctlv
lbl_80141D08:
/* 80141D08 0013CC08  81 41 00 00 */	lwz r10, 0(r1)
/* 80141D0C 0013CC0C  80 0A 00 04 */	lwz r0, 4(r10)
/* 80141D10 0013CC10  7C 08 03 A6 */	mtlr r0
/* 80141D14 0013CC14  7D 41 53 78 */	mr r1, r10
/* 80141D18 0013CC18  4E 80 00 20 */	blr 
