.include "macros.inc"

.section .data, "wa"
.balign 0x8
lbl_803B7E18:
	.incbin "baserom.dol", 0x3B3F18, 0x14
lbl_803B7E2C:
	.incbin "baserom.dol", 0x3B3F2C, 0x1C
lbl_803B7E48:
	.incbin "baserom.dol", 0x3B3F48, 0x18

.section .sbss, "wa"
.balign 0x8
nwc24ScdInitialized:
	.skip 0x4
nwc24ScdSuspendCnt:
	.skip 0x4
nwc24ScdOpenCnt:
	.skip 0x4

.section .bss, "wa"
.balign 0x8
.balign 32 # BSS pool alignment? nwc24ScdCommandMutex not explicitly aligned
nwc24ScdCommandMutex:
    .skip 0x18
nwc24ScdCounterMutex:
	.skip 0x18
.balign 32
nwc24ScdCommonBuffer: # ALIGN(32)
    .skip 0x20
.balign 32
nwc24ScdCommonResult: # ALIGN(32)
    .skip 0x20
.balign 32
nwc24ScdStatBuf: # (UNUSED!) ALIGN(32)
    .skip 0x100

.section .text, "ax"
.global NWC24SuspendScheduler
NWC24SuspendScheduler:
/* 80149068 00143F68  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8014906C 00143F6C  7C 08 02 A6 */	mflr r0
/* 80149070 00143F70  90 01 00 14 */	stw r0, 0x14(r1)
/* 80149074 00143F74  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80149078 00143F78  3F E0 80 48 */	lis r31, nwc24ScdCommandMutex@ha
/* 8014907C 00143F7C  3B FF A6 60 */	addi r31, r31, nwc24ScdCommandMutex@l
/* 80149080 00143F80  93 C1 00 08 */	stw r30, 8(r1)
/* 80149084 00143F84  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149088 00143F88  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8014908C 00143F8C  40 82 00 5C */	bne lbl_801490E8
/* 80149090 00143F90  4B FA 88 31 */	bl OSDisableInterrupts
/* 80149094 00143F94  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149098 00143F98  7C 7E 1B 78 */	mr r30, r3
/* 8014909C 00143F9C  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 801490A0 00143FA0  40 82 00 40 */	bne lbl_801490E0
/* 801490A4 00143FA4  38 7F 00 00 */	addi r3, r31, 0
/* 801490A8 00143FA8  4B FA 9A 9D */	bl OSInitMutex
/* 801490AC 00143FAC  38 7F 00 18 */	addi r3, r31, 0x18
/* 801490B0 00143FB0  4B FA 9A 95 */	bl OSInitMutex
/* 801490B4 00143FB4  38 7F 00 40 */	addi r3, r31, 0x40
/* 801490B8 00143FB8  38 80 00 00 */	li r4, 0
/* 801490BC 00143FBC  38 A0 00 20 */	li r5, 0x20
/* 801490C0 00143FC0  4B EB B0 45 */	bl memset
/* 801490C4 00143FC4  38 7F 00 60 */	addi r3, r31, 0x60
/* 801490C8 00143FC8  38 80 00 00 */	li r4, 0
/* 801490CC 00143FCC  38 A0 00 20 */	li r5, 0x20
/* 801490D0 00143FD0  4B EB B0 35 */	bl memset
/* 801490D4 00143FD4  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 801490D8 00143FD8  60 00 00 01 */	ori r0, r0, 1
/* 801490DC 00143FDC  90 0D A0 B8 */	stw r0, nwc24ScdInitialized-_SDA_BASE_(r13)
lbl_801490E0:
/* 801490E0 00143FE0  7F C3 F3 78 */	mr r3, r30
/* 801490E4 00143FE4  4B FA 88 05 */	bl OSRestoreInterrupts
lbl_801490E8:
/* 801490E8 00143FE8  38 7F 00 18 */	addi r3, r31, 0x18
/* 801490EC 00143FEC  4B FA 9A 91 */	bl OSLockMutex
/* 801490F0 00143FF0  48 00 04 A1 */	bl ExecSuspendScheduler
/* 801490F4 00143FF4  2C 03 00 00 */	cmpwi r3, 0
/* 801490F8 00143FF8  7C 7E 1B 78 */	mr r30, r3
/* 801490FC 00143FFC  41 80 00 18 */	blt lbl_80149114
/* 80149100 00144000  80 8D A0 BC */	lwz r4, nwc24ScdSuspendCnt-_SDA_BASE_(r13)
/* 80149104 00144004  80 0D A0 C0 */	lwz r0, nwc24ScdOpenCnt-_SDA_BASE_(r13)
/* 80149108 00144008  38 84 00 01 */	addi r4, r4, 1
/* 8014910C 0014400C  90 8D A0 BC */	stw r4, nwc24ScdSuspendCnt-_SDA_BASE_(r13)
/* 80149110 00144010  7F C0 18 50 */	subf r30, r0, r3
lbl_80149114:
/* 80149114 00144014  38 7F 00 18 */	addi r3, r31, 0x18
/* 80149118 00144018  4B FA 9B 41 */	bl OSUnlockMutex
/* 8014911C 0014401C  7F C3 F3 78 */	mr r3, r30
/* 80149120 00144020  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80149124 00144024  83 C1 00 08 */	lwz r30, 8(r1)
/* 80149128 00144028  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8014912C 0014402C  7C 08 03 A6 */	mtlr r0
/* 80149130 00144030  38 21 00 10 */	addi r1, r1, 0x10
/* 80149134 00144034  4E 80 00 20 */	blr 

.global NWC24ResumeScheduler
NWC24ResumeScheduler:
/* 80149138 00144038  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8014913C 0014403C  7C 08 02 A6 */	mflr r0
/* 80149140 00144040  90 01 00 14 */	stw r0, 0x14(r1)
/* 80149144 00144044  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80149148 00144048  3F E0 80 48 */	lis r31, nwc24ScdCommandMutex@ha
/* 8014914C 0014404C  3B FF A6 60 */	addi r31, r31, nwc24ScdCommandMutex@l
/* 80149150 00144050  93 C1 00 08 */	stw r30, 8(r1)
/* 80149154 00144054  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149158 00144058  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8014915C 0014405C  40 82 00 5C */	bne lbl_801491B8
/* 80149160 00144060  4B FA 87 61 */	bl OSDisableInterrupts
/* 80149164 00144064  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149168 00144068  7C 7E 1B 78 */	mr r30, r3
/* 8014916C 0014406C  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80149170 00144070  40 82 00 40 */	bne lbl_801491B0
/* 80149174 00144074  38 7F 00 00 */	addi r3, r31, 0
/* 80149178 00144078  4B FA 99 CD */	bl OSInitMutex
/* 8014917C 0014407C  38 7F 00 18 */	addi r3, r31, 0x18
/* 80149180 00144080  4B FA 99 C5 */	bl OSInitMutex
/* 80149184 00144084  38 7F 00 40 */	addi r3, r31, 0x40
/* 80149188 00144088  38 80 00 00 */	li r4, 0
/* 8014918C 0014408C  38 A0 00 20 */	li r5, 0x20
/* 80149190 00144090  4B EB AF 75 */	bl memset
/* 80149194 00144094  38 7F 00 60 */	addi r3, r31, 0x60
/* 80149198 00144098  38 80 00 00 */	li r4, 0
/* 8014919C 0014409C  38 A0 00 20 */	li r5, 0x20
/* 801491A0 001440A0  4B EB AF 65 */	bl memset
/* 801491A4 001440A4  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 801491A8 001440A8  60 00 00 01 */	ori r0, r0, 1
/* 801491AC 001440AC  90 0D A0 B8 */	stw r0, nwc24ScdInitialized-_SDA_BASE_(r13)
lbl_801491B0:
/* 801491B0 001440B0  7F C3 F3 78 */	mr r3, r30
/* 801491B4 001440B4  4B FA 87 35 */	bl OSRestoreInterrupts
lbl_801491B8:
/* 801491B8 001440B8  38 7F 00 18 */	addi r3, r31, 0x18
/* 801491BC 001440BC  4B FA 99 C1 */	bl OSLockMutex
/* 801491C0 001440C0  80 0D A0 C0 */	lwz r0, nwc24ScdOpenCnt-_SDA_BASE_(r13)
/* 801491C4 001440C4  2C 00 00 00 */	cmpwi r0, 0
/* 801491C8 001440C8  40 81 00 18 */	ble lbl_801491E0
/* 801491CC 001440CC  80 0D A0 BC */	lwz r0, nwc24ScdSuspendCnt-_SDA_BASE_(r13)
/* 801491D0 001440D0  2C 00 00 00 */	cmpwi r0, 0
/* 801491D4 001440D4  40 82 00 0C */	bne lbl_801491E0
/* 801491D8 001440D8  3B C0 00 00 */	li r30, 0
/* 801491DC 001440DC  48 00 00 28 */	b lbl_80149204
lbl_801491E0:
/* 801491E0 001440E0  48 00 05 4D */	bl ExecResumeScheduler
/* 801491E4 001440E4  80 8D A0 BC */	lwz r4, nwc24ScdSuspendCnt-_SDA_BASE_(r13)
/* 801491E8 001440E8  7C 7E 1B 78 */	mr r30, r3
/* 801491EC 001440EC  2C 04 00 00 */	cmpwi r4, 0
/* 801491F0 001440F0  40 81 00 14 */	ble lbl_80149204
/* 801491F4 001440F4  38 84 FF FF */	addi r4, r4, -1
/* 801491F8 001440F8  80 0D A0 C0 */	lwz r0, nwc24ScdOpenCnt-_SDA_BASE_(r13)
/* 801491FC 001440FC  90 8D A0 BC */	stw r4, nwc24ScdSuspendCnt-_SDA_BASE_(r13)
/* 80149200 00144100  7F C0 18 50 */	subf r30, r0, r3
lbl_80149204:
/* 80149204 00144104  38 7F 00 18 */	addi r3, r31, 0x18
/* 80149208 00144108  4B FA 9A 51 */	bl OSUnlockMutex
/* 8014920C 0014410C  7F C3 F3 78 */	mr r3, r30
/* 80149210 00144110  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80149214 00144114  83 C1 00 08 */	lwz r30, 8(r1)
/* 80149218 00144118  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8014921C 0014411C  7C 08 03 A6 */	mtlr r0
/* 80149220 00144120  38 21 00 10 */	addi r1, r1, 0x10
/* 80149224 00144124  4E 80 00 20 */	blr 

.global NWC24iRequestGenerateUserId
NWC24iRequestGenerateUserId:
/* 80149228 00144128  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8014922C 0014412C  7C 08 02 A6 */	mflr r0
/* 80149230 00144130  90 01 00 34 */	stw r0, 0x34(r1)
/* 80149234 00144134  39 61 00 30 */	addi r11, r1, 0x30
/* 80149238 00144138  4B F6 8B 0D */	bl _savegpr_27
/* 8014923C 0014413C  3F A0 80 48 */	lis r29, nwc24ScdCommandMutex@ha
/* 80149240 00144140  7C 7B 1B 78 */	mr r27, r3
/* 80149244 00144144  7C 9F 23 78 */	mr r31, r4
/* 80149248 00144148  3B BD A6 60 */	addi r29, r29, nwc24ScdCommandMutex@l
/* 8014924C 0014414C  4B FA AF 0D */	bl OSGetCurrentThread
/* 80149250 00144150  2C 03 00 00 */	cmpwi r3, 0
/* 80149254 00144154  40 82 00 0C */	bne lbl_80149260
/* 80149258 00144158  38 60 FF FF */	li r3, -1
/* 8014925C 0014415C  48 00 00 28 */	b lbl_80149284
lbl_80149260:
/* 80149260 00144160  4B FF B6 21 */	bl NWC24IsMsgLibOpened
/* 80149264 00144164  2C 03 00 00 */	cmpwi r3, 0
/* 80149268 00144168  40 82 00 10 */	bne lbl_80149278
/* 8014926C 0014416C  4B FF B6 29 */	bl NWC24IsMsgLibOpenedByTool
/* 80149270 00144170  2C 03 00 00 */	cmpwi r3, 0
/* 80149274 00144174  41 82 00 0C */	beq lbl_80149280
lbl_80149278:
/* 80149278 00144178  38 60 FF F6 */	li r3, -10
/* 8014927C 0014417C  48 00 00 08 */	b lbl_80149284
lbl_80149280:
/* 80149280 00144180  38 60 00 00 */	li r3, 0
lbl_80149284:
/* 80149284 00144184  2C 03 00 00 */	cmpwi r3, 0
/* 80149288 00144188  40 80 00 08 */	bge lbl_80149290
/* 8014928C 0014418C  48 00 01 40 */	b lbl_801493CC
lbl_80149290:
/* 80149290 00144190  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149294 00144194  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80149298 00144198  40 82 00 5C */	bne lbl_801492F4
/* 8014929C 0014419C  4B FA 86 25 */	bl OSDisableInterrupts
/* 801492A0 001441A0  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 801492A4 001441A4  7C 7E 1B 78 */	mr r30, r3
/* 801492A8 001441A8  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 801492AC 001441AC  40 82 00 40 */	bne lbl_801492EC
/* 801492B0 001441B0  38 7D 00 00 */	addi r3, r29, 0
/* 801492B4 001441B4  4B FA 98 91 */	bl OSInitMutex
/* 801492B8 001441B8  38 7D 00 18 */	addi r3, r29, 0x18
/* 801492BC 001441BC  4B FA 98 89 */	bl OSInitMutex
/* 801492C0 001441C0  38 7D 00 40 */	addi r3, r29, 0x40
/* 801492C4 001441C4  38 80 00 00 */	li r4, 0
/* 801492C8 001441C8  38 A0 00 20 */	li r5, 0x20
/* 801492CC 001441CC  4B EB AE 39 */	bl memset
/* 801492D0 001441D0  38 7D 00 60 */	addi r3, r29, 0x60
/* 801492D4 001441D4  38 80 00 00 */	li r4, 0
/* 801492D8 001441D8  38 A0 00 20 */	li r5, 0x20
/* 801492DC 001441DC  4B EB AE 29 */	bl memset
/* 801492E0 001441E0  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 801492E4 001441E4  60 00 00 01 */	ori r0, r0, 1
/* 801492E8 001441E8  90 0D A0 B8 */	stw r0, nwc24ScdInitialized-_SDA_BASE_(r13)
lbl_801492EC:
/* 801492EC 001441EC  7F C3 F3 78 */	mr r3, r30
/* 801492F0 001441F0  4B FA 85 F9 */	bl OSRestoreInterrupts
lbl_801492F4:
/* 801492F4 001441F4  38 7D 00 00 */	addi r3, r29, 0
/* 801492F8 001441F8  4B FA 98 85 */	bl OSLockMutex
/* 801492FC 001441FC  3F C0 80 3B */	lis r30, lbl_803B7E2C@ha
/* 80149300 00144200  3C 80 80 3B */	lis r4, lbl_803B7E18@ha
/* 80149304 00144204  38 7E 7E 2C */	addi r3, r30, lbl_803B7E2C@l
/* 80149308 00144208  38 A1 00 08 */	addi r5, r1, 8
/* 8014930C 0014420C  38 84 7E 18 */	addi r4, r4, lbl_803B7E18@l
/* 80149310 00144210  38 C0 00 00 */	li r6, 0
/* 80149314 00144214  48 00 13 19 */	bl NWC24iOpenResourceManager
/* 80149318 00144218  2C 03 00 00 */	cmpwi r3, 0
/* 8014931C 0014421C  7C 7C 1B 78 */	mr r28, r3
/* 80149320 00144220  41 80 00 A0 */	blt lbl_801493C0
/* 80149324 00144224  80 81 00 08 */	lwz r4, 8(r1)
/* 80149328 00144228  38 7E 7E 2C */	addi r3, r30, 0x7e2c
/* 8014932C 0014422C  39 1D 00 60 */	addi r8, r29, 0x60
/* 80149330 00144230  38 A0 00 0F */	li r5, 0xf
/* 80149334 00144234  38 C0 00 00 */	li r6, 0
/* 80149338 00144238  38 E0 00 00 */	li r7, 0
/* 8014933C 0014423C  39 20 00 20 */	li r9, 0x20
/* 80149340 00144240  48 00 13 99 */	bl NWC24iIoctlResourceManager
/* 80149344 00144244  2C 03 00 00 */	cmpwi r3, 0
/* 80149348 00144248  7C 7C 1B 78 */	mr r28, r3
/* 8014934C 0014424C  41 80 00 58 */	blt lbl_801493A4
/* 80149350 00144250  83 9D 00 60 */	lwz r28, 0x60(r29)
/* 80149354 00144254  2C 1C 00 00 */	cmpwi r28, 0
/* 80149358 00144258  41 82 00 14 */	beq lbl_8014936C
/* 8014935C 0014425C  2C 1C FF DD */	cmpwi r28, -35
/* 80149360 00144260  41 82 00 0C */	beq lbl_8014936C
/* 80149364 00144264  2C 1C FF DC */	cmpwi r28, -36
/* 80149368 00144268  40 82 00 3C */	bne lbl_801493A4
lbl_8014936C:
/* 8014936C 0014426C  38 00 00 00 */	li r0, 0
/* 80149370 00144270  7C 1B 00 40 */	cmplw r27, r0
/* 80149374 00144274  41 82 00 18 */	beq lbl_8014938C
/* 80149378 00144278  38 7D 00 60 */	addi r3, r29, 0x60
/* 8014937C 0014427C  80 03 00 04 */	lwz r0, 4(r3)
/* 80149380 00144280  80 63 00 08 */	lwz r3, 8(r3)
/* 80149384 00144284  90 7B 00 04 */	stw r3, 4(r27)
/* 80149388 00144288  90 1B 00 00 */	stw r0, 0(r27)
lbl_8014938C:
/* 8014938C 0014428C  38 00 00 00 */	li r0, 0
/* 80149390 00144290  7C 1F 00 40 */	cmplw r31, r0
/* 80149394 00144294  41 82 00 10 */	beq lbl_801493A4
/* 80149398 00144298  38 7D 00 60 */	addi r3, r29, 0x60
/* 8014939C 0014429C  80 03 00 0C */	lwz r0, 0xc(r3)
/* 801493A0 001442A0  90 1F 00 00 */	stw r0, 0(r31)
lbl_801493A4:
/* 801493A4 001442A4  3C 60 80 3B */	lis r3, lbl_803B7E2C@ha
/* 801493A8 001442A8  80 81 00 08 */	lwz r4, 8(r1)
/* 801493AC 001442AC  38 63 7E 2C */	addi r3, r3, lbl_803B7E2C@l
/* 801493B0 001442B0  48 00 12 F5 */	bl NWC24iCloseResourceManager
/* 801493B4 001442B4  2C 1C 00 00 */	cmpwi r28, 0
/* 801493B8 001442B8  41 80 00 08 */	blt lbl_801493C0
/* 801493BC 001442BC  7C 7C 1B 78 */	mr r28, r3
lbl_801493C0:
/* 801493C0 001442C0  38 7D 00 00 */	addi r3, r29, 0
/* 801493C4 001442C4  4B FA 98 95 */	bl OSUnlockMutex
/* 801493C8 001442C8  7F 83 E3 78 */	mr r3, r28
lbl_801493CC:
/* 801493CC 001442CC  39 61 00 30 */	addi r11, r1, 0x30
/* 801493D0 001442D0  4B F6 89 C1 */	bl _restgpr_27
/* 801493D4 001442D4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801493D8 001442D8  7C 08 03 A6 */	mtlr r0
/* 801493DC 001442DC  38 21 00 30 */	addi r1, r1, 0x30
/* 801493E0 001442E0  4E 80 00 20 */	blr 

.global NWC24iTrySuspendForOpenLib
NWC24iTrySuspendForOpenLib:
/* 801493E4 001442E4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801493E8 001442E8  7C 08 02 A6 */	mflr r0
/* 801493EC 001442EC  90 01 00 14 */	stw r0, 0x14(r1)
/* 801493F0 001442F0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801493F4 001442F4  3F E0 80 48 */	lis r31, nwc24ScdCommandMutex@ha
/* 801493F8 001442F8  3B FF A6 60 */	addi r31, r31, nwc24ScdCommandMutex@l
/* 801493FC 001442FC  93 C1 00 08 */	stw r30, 8(r1)
/* 80149400 00144300  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149404 00144304  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80149408 00144308  40 82 00 5C */	bne lbl_80149464
/* 8014940C 0014430C  4B FA 84 B5 */	bl OSDisableInterrupts
/* 80149410 00144310  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149414 00144314  7C 7E 1B 78 */	mr r30, r3
/* 80149418 00144318  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8014941C 0014431C  40 82 00 40 */	bne lbl_8014945C
/* 80149420 00144320  38 7F 00 00 */	addi r3, r31, 0
/* 80149424 00144324  4B FA 97 21 */	bl OSInitMutex
/* 80149428 00144328  38 7F 00 18 */	addi r3, r31, 0x18
/* 8014942C 0014432C  4B FA 97 19 */	bl OSInitMutex
/* 80149430 00144330  38 7F 00 40 */	addi r3, r31, 0x40
/* 80149434 00144334  38 80 00 00 */	li r4, 0
/* 80149438 00144338  38 A0 00 20 */	li r5, 0x20
/* 8014943C 0014433C  4B EB AC C9 */	bl memset
/* 80149440 00144340  38 7F 00 60 */	addi r3, r31, 0x60
/* 80149444 00144344  38 80 00 00 */	li r4, 0
/* 80149448 00144348  38 A0 00 20 */	li r5, 0x20
/* 8014944C 0014434C  4B EB AC B9 */	bl memset
/* 80149450 00144350  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149454 00144354  60 00 00 01 */	ori r0, r0, 1
/* 80149458 00144358  90 0D A0 B8 */	stw r0, nwc24ScdInitialized-_SDA_BASE_(r13)
lbl_8014945C:
/* 8014945C 0014435C  7F C3 F3 78 */	mr r3, r30
/* 80149460 00144360  4B FA 84 89 */	bl OSRestoreInterrupts
lbl_80149464:
/* 80149464 00144364  38 7F 00 18 */	addi r3, r31, 0x18
/* 80149468 00144368  4B FA 99 25 */	bl OSTryLockMutex
/* 8014946C 0014436C  2C 03 00 00 */	cmpwi r3, 0
/* 80149470 00144370  40 82 00 0C */	bne lbl_8014947C
/* 80149474 00144374  38 60 FF EA */	li r3, -22
/* 80149478 00144378  48 00 00 34 */	b lbl_801494AC
lbl_8014947C:
/* 8014947C 0014437C  38 60 00 00 */	li r3, 0
/* 80149480 00144380  48 00 01 21 */	bl ExecTrySuspendScheduler
/* 80149484 00144384  2C 03 00 00 */	cmpwi r3, 0
/* 80149488 00144388  7C 7E 1B 78 */	mr r30, r3
/* 8014948C 0014438C  41 80 00 14 */	blt lbl_801494A0
/* 80149490 00144390  80 6D A0 C0 */	lwz r3, nwc24ScdOpenCnt-_SDA_BASE_(r13)
/* 80149494 00144394  3B C0 00 00 */	li r30, 0
/* 80149498 00144398  38 03 00 01 */	addi r0, r3, 1
/* 8014949C 0014439C  90 0D A0 C0 */	stw r0, nwc24ScdOpenCnt-_SDA_BASE_(r13)
lbl_801494A0:
/* 801494A0 001443A0  38 7F 00 18 */	addi r3, r31, 0x18
/* 801494A4 001443A4  4B FA 97 B5 */	bl OSUnlockMutex
/* 801494A8 001443A8  7F C3 F3 78 */	mr r3, r30
lbl_801494AC:
/* 801494AC 001443AC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801494B0 001443B0  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 801494B4 001443B4  83 C1 00 08 */	lwz r30, 8(r1)
/* 801494B8 001443B8  7C 08 03 A6 */	mtlr r0
/* 801494BC 001443BC  38 21 00 10 */	addi r1, r1, 0x10
/* 801494C0 001443C0  4E 80 00 20 */	blr 

.global NWC24iResumeForCloseLib
NWC24iResumeForCloseLib:
/* 801494C4 001443C4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801494C8 001443C8  7C 08 02 A6 */	mflr r0
/* 801494CC 001443CC  90 01 00 14 */	stw r0, 0x14(r1)
/* 801494D0 001443D0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801494D4 001443D4  3F E0 80 48 */	lis r31, nwc24ScdCommandMutex@ha
/* 801494D8 001443D8  3B FF A6 60 */	addi r31, r31, nwc24ScdCommandMutex@l
/* 801494DC 001443DC  93 C1 00 08 */	stw r30, 8(r1)
/* 801494E0 001443E0  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 801494E4 001443E4  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 801494E8 001443E8  40 82 00 5C */	bne lbl_80149544
/* 801494EC 001443EC  4B FA 83 D5 */	bl OSDisableInterrupts
/* 801494F0 001443F0  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 801494F4 001443F4  7C 7E 1B 78 */	mr r30, r3
/* 801494F8 001443F8  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 801494FC 001443FC  40 82 00 40 */	bne lbl_8014953C
/* 80149500 00144400  38 7F 00 00 */	addi r3, r31, 0
/* 80149504 00144404  4B FA 96 41 */	bl OSInitMutex
/* 80149508 00144408  38 7F 00 18 */	addi r3, r31, 0x18
/* 8014950C 0014440C  4B FA 96 39 */	bl OSInitMutex
/* 80149510 00144410  38 7F 00 40 */	addi r3, r31, 0x40
/* 80149514 00144414  38 80 00 00 */	li r4, 0
/* 80149518 00144418  38 A0 00 20 */	li r5, 0x20
/* 8014951C 0014441C  4B EB AB E9 */	bl memset
/* 80149520 00144420  38 7F 00 60 */	addi r3, r31, 0x60
/* 80149524 00144424  38 80 00 00 */	li r4, 0
/* 80149528 00144428  38 A0 00 20 */	li r5, 0x20
/* 8014952C 0014442C  4B EB AB D9 */	bl memset
/* 80149530 00144430  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149534 00144434  60 00 00 01 */	ori r0, r0, 1
/* 80149538 00144438  90 0D A0 B8 */	stw r0, nwc24ScdInitialized-_SDA_BASE_(r13)
lbl_8014953C:
/* 8014953C 0014443C  7F C3 F3 78 */	mr r3, r30
/* 80149540 00144440  4B FA 83 A9 */	bl OSRestoreInterrupts
lbl_80149544:
/* 80149544 00144444  38 7F 00 18 */	addi r3, r31, 0x18
/* 80149548 00144448  4B FA 96 35 */	bl OSLockMutex
/* 8014954C 0014444C  48 00 01 E1 */	bl ExecResumeScheduler
/* 80149550 00144450  2C 03 00 00 */	cmpwi r3, 0
/* 80149554 00144454  7C 7E 1B 78 */	mr r30, r3
/* 80149558 00144458  41 80 00 14 */	blt lbl_8014956C
/* 8014955C 0014445C  80 6D A0 C0 */	lwz r3, nwc24ScdOpenCnt-_SDA_BASE_(r13)
/* 80149560 00144460  3B C0 00 00 */	li r30, 0
/* 80149564 00144464  38 03 FF FF */	addi r0, r3, -1
/* 80149568 00144468  90 0D A0 C0 */	stw r0, nwc24ScdOpenCnt-_SDA_BASE_(r13)
lbl_8014956C:
/* 8014956C 0014446C  38 7F 00 18 */	addi r3, r31, 0x18
/* 80149570 00144470  4B FA 96 E9 */	bl OSUnlockMutex
/* 80149574 00144474  7F C3 F3 78 */	mr r3, r30
/* 80149578 00144478  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8014957C 0014447C  83 C1 00 08 */	lwz r30, 8(r1)
/* 80149580 00144480  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80149584 00144484  7C 08 03 A6 */	mtlr r0
/* 80149588 00144488  38 21 00 10 */	addi r1, r1, 0x10
/* 8014958C 0014448C  4E 80 00 20 */	blr 

.global ExecSuspendScheduler
ExecSuspendScheduler:
/* 80149590 00144490  38 60 00 00 */	li r3, 0
/* 80149594 00144494  38 80 00 01 */	li r4, 1
/* 80149598 00144498  38 A0 00 00 */	li r5, 0
/* 8014959C 0014449C  48 00 01 A0 */	b lbl_8014973C

.global ExecTrySuspendScheduler
ExecTrySuspendScheduler:
/* 801495A0 001444A0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801495A4 001444A4  7C 08 02 A6 */	mflr r0
/* 801495A8 001444A8  90 01 00 24 */	stw r0, 0x24(r1)
/* 801495AC 001444AC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801495B0 001444B0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801495B4 001444B4  3F C0 80 48 */	lis r30, nwc24ScdCommandMutex@ha
/* 801495B8 001444B8  3B DE A6 60 */	addi r30, r30, nwc24ScdCommandMutex@l
/* 801495BC 001444BC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801495C0 001444C0  93 81 00 10 */	stw r28, 0x10(r1)
/* 801495C4 001444C4  7C 7C 1B 78 */	mr r28, r3
/* 801495C8 001444C8  4B FA AB 91 */	bl OSGetCurrentThread
/* 801495CC 001444CC  2C 03 00 00 */	cmpwi r3, 0
/* 801495D0 001444D0  40 82 00 0C */	bne lbl_801495DC
/* 801495D4 001444D4  38 60 FF FF */	li r3, -1
/* 801495D8 001444D8  48 00 00 28 */	b lbl_80149600
lbl_801495DC:
/* 801495DC 001444DC  4B FF B2 A5 */	bl NWC24IsMsgLibOpened
/* 801495E0 001444E0  2C 03 00 00 */	cmpwi r3, 0
/* 801495E4 001444E4  40 82 00 10 */	bne lbl_801495F4
/* 801495E8 001444E8  4B FF B2 AD */	bl NWC24IsMsgLibOpenedByTool
/* 801495EC 001444EC  2C 03 00 00 */	cmpwi r3, 0
/* 801495F0 001444F0  41 82 00 0C */	beq lbl_801495FC
lbl_801495F4:
/* 801495F4 001444F4  38 60 FF F6 */	li r3, -10
/* 801495F8 001444F8  48 00 00 08 */	b lbl_80149600
lbl_801495FC:
/* 801495FC 001444FC  38 60 00 00 */	li r3, 0
lbl_80149600:
/* 80149600 00144500  2C 03 00 00 */	cmpwi r3, 0
/* 80149604 00144504  40 80 00 08 */	bge lbl_8014960C
/* 80149608 00144508  48 00 01 04 */	b lbl_8014970C
lbl_8014960C:
/* 8014960C 0014450C  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149610 00144510  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80149614 00144514  40 82 00 5C */	bne lbl_80149670
/* 80149618 00144518  4B FA 82 A9 */	bl OSDisableInterrupts
/* 8014961C 0014451C  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149620 00144520  7C 7F 1B 78 */	mr r31, r3
/* 80149624 00144524  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80149628 00144528  40 82 00 40 */	bne lbl_80149668
/* 8014962C 0014452C  38 7E 00 00 */	addi r3, r30, 0
/* 80149630 00144530  4B FA 95 15 */	bl OSInitMutex
/* 80149634 00144534  38 7E 00 18 */	addi r3, r30, 0x18
/* 80149638 00144538  4B FA 95 0D */	bl OSInitMutex
/* 8014963C 0014453C  38 7E 00 40 */	addi r3, r30, 0x40
/* 80149640 00144540  38 80 00 00 */	li r4, 0
/* 80149644 00144544  38 A0 00 20 */	li r5, 0x20
/* 80149648 00144548  4B EB AA BD */	bl memset
/* 8014964C 0014454C  38 7E 00 60 */	addi r3, r30, 0x60
/* 80149650 00144550  38 80 00 00 */	li r4, 0
/* 80149654 00144554  38 A0 00 20 */	li r5, 0x20
/* 80149658 00144558  4B EB AA AD */	bl memset
/* 8014965C 0014455C  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 80149660 00144560  60 00 00 01 */	ori r0, r0, 1
/* 80149664 00144564  90 0D A0 B8 */	stw r0, nwc24ScdInitialized-_SDA_BASE_(r13)
lbl_80149668:
/* 80149668 00144568  7F E3 FB 78 */	mr r3, r31
/* 8014966C 0014456C  4B FA 82 7D */	bl OSRestoreInterrupts
lbl_80149670:
/* 80149670 00144570  38 7E 00 00 */	addi r3, r30, 0
/* 80149674 00144574  4B FA 97 19 */	bl OSTryLockMutex
/* 80149678 00144578  2C 03 00 00 */	cmpwi r3, 0
/* 8014967C 0014457C  40 82 00 0C */	bne lbl_80149688
/* 80149680 00144580  38 60 FF EA */	li r3, -22
/* 80149684 00144584  48 00 00 88 */	b lbl_8014970C
lbl_80149688:
/* 80149688 00144588  3F E0 80 3B */	lis r31, lbl_803B7E48@ha
/* 8014968C 0014458C  3C 80 80 3B */	lis r4, lbl_803B7E18@ha
/* 80149690 00144590  38 7F 7E 48 */	addi r3, r31, lbl_803B7E48@l
/* 80149694 00144594  38 A1 00 08 */	addi r5, r1, 8
/* 80149698 00144598  38 84 7E 18 */	addi r4, r4, lbl_803B7E18@l
/* 8014969C 0014459C  38 C0 00 00 */	li r6, 0
/* 801496A0 001445A0  48 00 0F 8D */	bl NWC24iOpenResourceManager
/* 801496A4 001445A4  2C 03 00 00 */	cmpwi r3, 0
/* 801496A8 001445A8  7C 7D 1B 78 */	mr r29, r3
/* 801496AC 001445AC  41 80 00 54 */	blt lbl_80149700
/* 801496B0 001445B0  93 9E 00 40 */	stw r28, 0x40(r30)
/* 801496B4 001445B4  38 7F 7E 48 */	addi r3, r31, 0x7e48
/* 801496B8 001445B8  80 81 00 08 */	lwz r4, 8(r1)
/* 801496BC 001445BC  38 DE 00 40 */	addi r6, r30, 0x40
/* 801496C0 001445C0  39 1E 00 60 */	addi r8, r30, 0x60
/* 801496C4 001445C4  38 A0 00 02 */	li r5, 2
/* 801496C8 001445C8  38 E0 00 20 */	li r7, 0x20
/* 801496CC 001445CC  39 20 00 20 */	li r9, 0x20
/* 801496D0 001445D0  48 00 10 09 */	bl NWC24iIoctlResourceManager
/* 801496D4 001445D4  2C 03 00 00 */	cmpwi r3, 0
/* 801496D8 001445D8  7C 7D 1B 78 */	mr r29, r3
/* 801496DC 001445DC  41 80 00 08 */	blt lbl_801496E4
/* 801496E0 001445E0  83 BE 00 60 */	lwz r29, 0x60(r30)
lbl_801496E4:
/* 801496E4 001445E4  3C 60 80 3B */	lis r3, lbl_803B7E48@ha
/* 801496E8 001445E8  80 81 00 08 */	lwz r4, 8(r1)
/* 801496EC 001445EC  38 63 7E 48 */	addi r3, r3, lbl_803B7E48@l
/* 801496F0 001445F0  48 00 0F B5 */	bl NWC24iCloseResourceManager
/* 801496F4 001445F4  2C 03 00 00 */	cmpwi r3, 0
/* 801496F8 001445F8  40 80 00 08 */	bge lbl_80149700
/* 801496FC 001445FC  7C 7D 1B 78 */	mr r29, r3
lbl_80149700:
/* 80149700 00144600  38 7E 00 00 */	addi r3, r30, 0
/* 80149704 00144604  4B FA 95 55 */	bl OSUnlockMutex
/* 80149708 00144608  7F A3 EB 78 */	mr r3, r29
lbl_8014970C:
/* 8014970C 0014460C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80149710 00144610  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80149714 00144614  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80149718 00144618  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8014971C 0014461C  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80149720 00144620  7C 08 03 A6 */	mtlr r0
/* 80149724 00144624  38 21 00 20 */	addi r1, r1, 0x20
/* 80149728 00144628  4E 80 00 20 */	blr 

.global ExecResumeScheduler
ExecResumeScheduler:
/* 8014972C 0014462C  38 60 00 00 */	li r3, 0
/* 80149730 00144630  38 80 00 03 */	li r4, 3
/* 80149734 00144634  38 A0 00 00 */	li r5, 0
/* 80149738 00144638  48 00 00 04 */	b lbl_8014973C
lbl_8014973C:
/* 8014973C 0014463C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80149740 00144640  7C 08 02 A6 */	mflr r0
/* 80149744 00144644  90 01 00 34 */	stw r0, 0x34(r1)
/* 80149748 00144648  39 61 00 30 */	addi r11, r1, 0x30
/* 8014974C 0014464C  4B F6 85 F9 */	bl _savegpr_27
/* 80149750 00144650  3F E0 80 48 */	lis r31, nwc24ScdCommandMutex@ha
/* 80149754 00144654  7C 7B 1B 78 */	mr r27, r3
/* 80149758 00144658  7C 9C 23 78 */	mr r28, r4
/* 8014975C 0014465C  7C BD 2B 78 */	mr r29, r5
/* 80149760 00144660  3B FF A6 60 */	addi r31, r31, nwc24ScdCommandMutex@l
/* 80149764 00144664  4B FA A9 F5 */	bl OSGetCurrentThread
/* 80149768 00144668  2C 03 00 00 */	cmpwi r3, 0
/* 8014976C 0014466C  40 82 00 0C */	bne lbl_80149778
/* 80149770 00144670  38 60 FF FF */	li r3, -1
/* 80149774 00144674  48 00 01 10 */	b lbl_80149884
lbl_80149778:
/* 80149778 00144678  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 8014977C 0014467C  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80149780 00144680  40 82 00 5C */	bne lbl_801497DC
/* 80149784 00144684  4B FA 81 3D */	bl OSDisableInterrupts
/* 80149788 00144688  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 8014978C 0014468C  7C 7E 1B 78 */	mr r30, r3
/* 80149790 00144690  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80149794 00144694  40 82 00 40 */	bne lbl_801497D4
/* 80149798 00144698  38 7F 00 00 */	addi r3, r31, 0
/* 8014979C 0014469C  4B FA 93 A9 */	bl OSInitMutex
/* 801497A0 001446A0  38 7F 00 18 */	addi r3, r31, 0x18
/* 801497A4 001446A4  4B FA 93 A1 */	bl OSInitMutex
/* 801497A8 001446A8  38 7F 00 40 */	addi r3, r31, 0x40
/* 801497AC 001446AC  38 80 00 00 */	li r4, 0
/* 801497B0 001446B0  38 A0 00 20 */	li r5, 0x20
/* 801497B4 001446B4  4B EB A9 51 */	bl memset
/* 801497B8 001446B8  38 7F 00 60 */	addi r3, r31, 0x60
/* 801497BC 001446BC  38 80 00 00 */	li r4, 0
/* 801497C0 001446C0  38 A0 00 20 */	li r5, 0x20
/* 801497C4 001446C4  4B EB A9 41 */	bl memset
/* 801497C8 001446C8  80 0D A0 B8 */	lwz r0, nwc24ScdInitialized-_SDA_BASE_(r13)
/* 801497CC 001446CC  60 00 00 01 */	ori r0, r0, 1
/* 801497D0 001446D0  90 0D A0 B8 */	stw r0, nwc24ScdInitialized-_SDA_BASE_(r13)
lbl_801497D4:
/* 801497D4 001446D4  7F C3 F3 78 */	mr r3, r30
/* 801497D8 001446D8  4B FA 81 11 */	bl OSRestoreInterrupts
lbl_801497DC:
/* 801497DC 001446DC  38 7F 00 00 */	addi r3, r31, 0
/* 801497E0 001446E0  4B FA 93 9D */	bl OSLockMutex
/* 801497E4 001446E4  3C 80 80 3B */	lis r4, lbl_803B7E18@ha
/* 801497E8 001446E8  7F 63 DB 78 */	mr r3, r27
/* 801497EC 001446EC  38 84 7E 18 */	addi r4, r4, lbl_803B7E18@l
/* 801497F0 001446F0  38 A1 00 08 */	addi r5, r1, 8
/* 801497F4 001446F4  38 C0 00 00 */	li r6, 0
/* 801497F8 001446F8  48 00 0E 35 */	bl NWC24iOpenResourceManager
/* 801497FC 001446FC  2C 03 00 00 */	cmpwi r3, 0
/* 80149800 00144700  7C 7E 1B 78 */	mr r30, r3
/* 80149804 00144704  41 80 00 74 */	blt lbl_80149878
/* 80149808 00144708  80 81 00 08 */	lwz r4, 8(r1)
/* 8014980C 0014470C  7F 63 DB 78 */	mr r3, r27
/* 80149810 00144710  7F 85 E3 78 */	mr r5, r28
/* 80149814 00144714  39 1F 00 60 */	addi r8, r31, 0x60
/* 80149818 00144718  38 C0 00 00 */	li r6, 0
/* 8014981C 0014471C  38 E0 00 00 */	li r7, 0
/* 80149820 00144720  39 20 00 20 */	li r9, 0x20
/* 80149824 00144724  48 00 0E B5 */	bl NWC24iIoctlResourceManager
/* 80149828 00144728  2C 03 00 00 */	cmpwi r3, 0
/* 8014982C 0014472C  7C 7E 1B 78 */	mr r30, r3
/* 80149830 00144730  41 80 00 30 */	blt lbl_80149860
/* 80149834 00144734  83 DF 00 60 */	lwz r30, 0x60(r31)
/* 80149838 00144738  2C 1E FF FE */	cmpwi r30, -2
/* 8014983C 0014473C  41 82 00 0C */	beq lbl_80149848
/* 80149840 00144740  2C 1E FF DF */	cmpwi r30, -33
/* 80149844 00144744  40 82 00 1C */	bne lbl_80149860
lbl_80149848:
/* 80149848 00144748  38 00 00 00 */	li r0, 0
/* 8014984C 0014474C  7C 1D 00 40 */	cmplw r29, r0
/* 80149850 00144750  41 82 00 10 */	beq lbl_80149860
/* 80149854 00144754  38 7F 00 60 */	addi r3, r31, 0x60
/* 80149858 00144758  80 03 00 04 */	lwz r0, 4(r3)
/* 8014985C 0014475C  90 1D 00 00 */	stw r0, 0(r29)
lbl_80149860:
/* 80149860 00144760  80 81 00 08 */	lwz r4, 8(r1)
/* 80149864 00144764  7F 63 DB 78 */	mr r3, r27
/* 80149868 00144768  48 00 0E 3D */	bl NWC24iCloseResourceManager
/* 8014986C 0014476C  2C 03 00 00 */	cmpwi r3, 0
/* 80149870 00144770  40 80 00 08 */	bge lbl_80149878
/* 80149874 00144774  7C 7E 1B 78 */	mr r30, r3
lbl_80149878:
/* 80149878 00144778  38 7F 00 00 */	addi r3, r31, 0
/* 8014987C 0014477C  4B FA 93 DD */	bl OSUnlockMutex
/* 80149880 00144780  7F C3 F3 78 */	mr r3, r30
lbl_80149884:
/* 80149884 00144784  39 61 00 30 */	addi r11, r1, 0x30
/* 80149888 00144788  4B F6 85 09 */	bl _restgpr_27
/* 8014988C 0014478C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80149890 00144790  7C 08 03 A6 */	mtlr r0
/* 80149894 00144794  38 21 00 30 */	addi r1, r1, 0x30
/* 80149898 00144798  4E 80 00 20 */	blr 
