.include "macros.inc"

.section .data, "wa"
.balign 0x8
lbl_803B72C8:
	.string "CAUTION!  Unexpected error code [%d] was found.\n"
.balign 8
lbl_803B7300: # unnamed data (array was marked const but not static so it is constructed at runtime)
	.incbin "baserom.dol", 0x3B3400, 0x278

.section .text, "ax"
.global contentFastOpenNAND
contentFastOpenNAND:
/* 80141A48 0013C948  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80141A4C 0013C94C  7C 08 02 A6 */	mflr r0
/* 80141A50 0013C950  90 01 00 24 */	stw r0, 0x24(r1)
/* 80141A54 0013C954  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80141A58 0013C958  7C BF 2B 78 */	mr r31, r5
/* 80141A5C 0013C95C  38 A1 00 08 */	addi r5, r1, 8
/* 80141A60 0013C960  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80141A64 0013C964  7C 7E 1B 78 */	mr r30, r3
/* 80141A68 0013C968  4B FC 23 AD */	bl ARCFastOpen
/* 80141A6C 0013C96C  2C 03 00 00 */	cmpwi r3, 0
/* 80141A70 0013C970  40 82 00 0C */	bne lbl_80141A7C
/* 80141A74 0013C974  38 60 EC 76 */	li r3, -5002
/* 80141A78 0013C978  48 00 00 24 */	b lbl_80141A9C
lbl_80141A7C:
/* 80141A7C 0013C97C  93 DF 00 00 */	stw r30, 0(r31)
/* 80141A80 0013C980  38 00 00 00 */	li r0, 0
/* 80141A84 0013C984  38 60 00 00 */	li r3, 0
/* 80141A88 0013C988  80 81 00 0C */	lwz r4, 0xc(r1)
/* 80141A8C 0013C98C  90 9F 00 04 */	stw r4, 4(r31)
/* 80141A90 0013C990  80 81 00 10 */	lwz r4, 0x10(r1)
/* 80141A94 0013C994  90 9F 00 08 */	stw r4, 8(r31)
/* 80141A98 0013C998  90 1F 00 0C */	stw r0, 0xc(r31)
lbl_80141A9C:
/* 80141A9C 0013C99C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80141AA0 0013C9A0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80141AA4 0013C9A4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80141AA8 0013C9A8  7C 08 03 A6 */	mtlr r0
/* 80141AAC 0013C9AC  38 21 00 20 */	addi r1, r1, 0x20
/* 80141AB0 0013C9B0  4E 80 00 20 */	blr 

.global contentConvertPathToEntrynumNAND
contentConvertPathToEntrynumNAND:
/* 80141AB4 0013C9B4  4B FC 23 B0 */	b ARCConvertPathToEntrynum

.global contentGetLengthNAND
contentGetLengthNAND:
/* 80141AB8 0013C9B8  80 63 00 08 */	lwz r3, 8(r3)
/* 80141ABC 0013C9BC  4E 80 00 20 */	blr 

.global contentReadNAND
contentReadNAND:
/* 80141AC0 0013C9C0  94 21 FD 70 */	stwu r1, -0x290(r1)
/* 80141AC4 0013C9C4  7C 08 02 A6 */	mflr r0
/* 80141AC8 0013C9C8  90 01 02 94 */	stw r0, 0x294(r1)
/* 80141ACC 0013C9CC  93 E1 02 8C */	stw r31, 0x28c(r1)
/* 80141AD0 0013C9D0  7C BF 2B 78 */	mr r31, r5
/* 80141AD4 0013C9D4  93 C1 02 88 */	stw r30, 0x288(r1)
/* 80141AD8 0013C9D8  7C 9E 23 78 */	mr r30, r4
/* 80141ADC 0013C9DC  93 A1 02 84 */	stw r29, 0x284(r1)
/* 80141AE0 0013C9E0  7C 7D 1B 78 */	mr r29, r3
/* 80141AE4 0013C9E4  80 E3 00 0C */	lwz r7, 0xc(r3)
/* 80141AE8 0013C9E8  80 03 00 08 */	lwz r0, 8(r3)
/* 80141AEC 0013C9EC  7C 87 32 14 */	add r4, r7, r6
/* 80141AF0 0013C9F0  7C 04 00 40 */	cmplw r4, r0
/* 80141AF4 0013C9F4  40 81 00 0C */	ble lbl_80141B00
/* 80141AF8 0013C9F8  38 60 EC 6F */	li r3, -5009
/* 80141AFC 0013C9FC  48 00 00 D0 */	b lbl_80141BCC
lbl_80141B00:
/* 80141B00 0013CA00  80 63 00 00 */	lwz r3, 0(r3)
/* 80141B04 0013CA04  38 A0 00 00 */	li r5, 0
/* 80141B08 0013CA08  80 1D 00 04 */	lwz r0, 4(r29)
/* 80141B0C 0013CA0C  80 63 00 1C */	lwz r3, 0x1c(r3)
/* 80141B10 0013CA10  7C 80 22 14 */	add r4, r0, r4
/* 80141B14 0013CA14  48 00 01 7D */	bl ESP_SeekContentFile
/* 80141B18 0013CA18  2C 03 00 00 */	cmpwi r3, 0
/* 80141B1C 0013CA1C  40 80 00 0C */	bge lbl_80141B28
/* 80141B20 0013CA20  38 60 EC 74 */	li r3, -5004
/* 80141B24 0013CA24  48 00 00 A8 */	b lbl_80141BCC
lbl_80141B28:
/* 80141B28 0013CA28  80 7D 00 00 */	lwz r3, 0(r29)
/* 80141B2C 0013CA2C  7F C4 F3 78 */	mr r4, r30
/* 80141B30 0013CA30  7F E5 FB 78 */	mr r5, r31
/* 80141B34 0013CA34  80 63 00 1C */	lwz r3, 0x1c(r3)
/* 80141B38 0013CA38  48 00 00 B9 */	bl ESP_ReadContentFile
/* 80141B3C 0013CA3C  3C A0 80 3B */	lis r5, lbl_803B7300@ha
/* 80141B40 0013CA40  38 00 00 4F */	li r0, 0x4f
/* 80141B44 0013CA44  38 A5 73 00 */	addi r5, r5, lbl_803B7300@l
/* 80141B48 0013CA48  7C 64 1B 78 */	mr r4, r3
/* 80141B4C 0013CA4C  38 E1 00 04 */	addi r7, r1, 4
/* 80141B50 0013CA50  38 C5 FF FC */	addi r6, r5, -4
/* 80141B54 0013CA54  7C 09 03 A6 */	mtctr r0
lbl_80141B58:
/* 80141B58 0013CA58  80 A6 00 04 */	lwz r5, 4(r6)
/* 80141B5C 0013CA5C  84 06 00 08 */	lwzu r0, 8(r6)
/* 80141B60 0013CA60  90 A7 00 04 */	stw r5, 4(r7)
/* 80141B64 0013CA64  94 07 00 08 */	stwu r0, 8(r7)
/* 80141B68 0013CA68  42 00 FF F0 */	bdnz lbl_80141B58
/* 80141B6C 0013CA6C  2C 03 00 00 */	cmpwi r3, 0
/* 80141B70 0013CA70  38 A0 00 00 */	li r5, 0
/* 80141B74 0013CA74  41 80 00 08 */	blt lbl_80141B7C
/* 80141B78 0013CA78  48 00 00 50 */	b lbl_80141BC8
lbl_80141B7C:
/* 80141B7C 0013CA7C  38 00 00 4F */	li r0, 0x4f
/* 80141B80 0013CA80  38 C1 00 08 */	addi r6, r1, 8
/* 80141B84 0013CA84  7C 09 03 A6 */	mtctr r0
lbl_80141B88:
/* 80141B88 0013CA88  80 06 00 00 */	lwz r0, 0(r6)
/* 80141B8C 0013CA8C  7C 03 00 00 */	cmpw r3, r0
/* 80141B90 0013CA90  40 82 00 18 */	bne lbl_80141BA8
/* 80141B94 0013CA94  38 05 00 01 */	addi r0, r5, 1
/* 80141B98 0013CA98  38 61 00 08 */	addi r3, r1, 8
/* 80141B9C 0013CA9C  54 00 10 3A */	slwi r0, r0, 2
/* 80141BA0 0013CAA0  7C 83 00 2E */	lwzx r4, r3, r0
/* 80141BA4 0013CAA4  48 00 00 24 */	b lbl_80141BC8
lbl_80141BA8:
/* 80141BA8 0013CAA8  38 C6 00 08 */	addi r6, r6, 8
/* 80141BAC 0013CAAC  38 A5 00 02 */	addi r5, r5, 2
/* 80141BB0 0013CAB0  42 00 FF D8 */	bdnz lbl_80141B88
/* 80141BB4 0013CAB4  3C 60 80 3B */	lis r3, lbl_803B72C8@ha
/* 80141BB8 0013CAB8  38 63 72 C8 */	addi r3, r3, lbl_803B72C8@l
/* 80141BBC 0013CABC  4C C6 31 82 */	crclr 6
/* 80141BC0 0013CAC0  48 04 23 59 */	bl OSReport
/* 80141BC4 0013CAC4  38 80 EC 39 */	li r4, -5063
lbl_80141BC8:
/* 80141BC8 0013CAC8  7C 83 23 78 */	mr r3, r4
lbl_80141BCC:
/* 80141BCC 0013CACC  80 01 02 94 */	lwz r0, 0x294(r1)
/* 80141BD0 0013CAD0  83 E1 02 8C */	lwz r31, 0x28c(r1)
/* 80141BD4 0013CAD4  83 C1 02 88 */	lwz r30, 0x288(r1)
/* 80141BD8 0013CAD8  83 A1 02 84 */	lwz r29, 0x284(r1)
/* 80141BDC 0013CADC  7C 08 03 A6 */	mtlr r0
/* 80141BE0 0013CAE0  38 21 02 90 */	addi r1, r1, 0x290
/* 80141BE4 0013CAE4  4E 80 00 20 */	blr 

.global contentCloseNAND
contentCloseNAND:
/* 80141BE8 0013CAE8  38 60 00 00 */	li r3, 0
/* 80141BEC 0013CAEC  4E 80 00 20 */	blr 
